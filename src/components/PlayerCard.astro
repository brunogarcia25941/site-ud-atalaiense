---
// src/components/PlayerCard.astro
interface Props {
  nome: string;
  numero: number;
  foto?: string | null;
}

const { nome, numero, foto } = Astro.props;
const imagemFinal = foto || '/fotos/jogadores/default_player.jpg';

const partesNome = nome.split(' ');
const primeiroNome = partesNome[0];
const restoNome = partesNome.slice(1).join(' ');
---
<div class="group bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden hover:border-orange-500 transition-all duration-300">
  <div class="aspect-[3/4] w-full relative overflow-hidden bg-zinc-800">
    <img 
      src={imagemFinal} 
      alt={`Foto de ${nome}`}
      class="w-full h-full object-cover object-center group-hover:scale-107 transition-transform duration-500 filter group-hover:grayscale-0"
    />
    <div class="absolute bottom-0 right-0 bg-orange-600 text-white font-black text-xl px-3 py-1 rounded-tl-lg">
      {numero}
    </div>
  </div>

  <div class="p-2">
    <h3 class="text-lg font-bold text-white leading-tight">
      <span class="block">{primeiroNome}</span>
      {restoNome && <span class="block text-sm text-zinc-400 font-medium truncate">{restoNome}</span>}
    </h3>
  </div>
</div>