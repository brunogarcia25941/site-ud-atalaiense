---
// src/components/PlayerCard.astro
interface Props {
  nome: string;
  numero: number;
  foto?: string | null;
  galeria?: string[]; // Nova prop para as fotos extras
}

const { nome, numero, foto, galeria = [] } = Astro.props;
const imagemFinal = foto || '/fotos/jogadores/default_player.jpg';

const partesNome = nome.split(' ');
const primeiroNome = partesNome[0];
const restoNome = partesNome.slice(1).join(' ');

// SÃ³ adicionamos a classe de clique se houver fotos na galeria
const temGaleria = galeria.length > 0;
---

<div 
  class={`player-card group bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden transition-all duration-300 ${temGaleria ? 'cursor-pointer hover:border-orange-500 shadow-lg hover:shadow-orange-500/10' : ''}`}
  data-nome={nome}
  data-galeria={JSON.stringify(galeria)}
>
  <div class="aspect-[3/4] w-full relative overflow-hidden bg-zinc-800">
    <img 
      src={imagemFinal} 
      alt={`Foto de ${nome}`}
      class="w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-500"
    />
    
    <div class="absolute bottom-0 right-0 bg-orange-600 text-white font-black text-xl px-3 py-1 rounded-tl-lg z-10">
      {numero}
    </div>

    {temGaleria && (
      <div class="absolute top-2 right-2 bg-black/60 backdrop-blur-sm text-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h14a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
        </svg>
      </div>
    )}
  </div>

  <div class="p-3">
    <h3 class="text-lg font-bold text-white leading-tight">
      <span class="block">{primeiroNome}</span>
      {restoNome && <span class="block text-sm text-zinc-400 font-medium truncate">{restoNome}</span>}
    </h3>
    
    {temGaleria && (
      <span class="text-[10px] text-orange-500/70 font-bold uppercase tracking-widest mt-1 block  group-hover:opacity-100 transition-opacity">
        Ver Galeria +
      </span>
    )}
  </div>
</div>